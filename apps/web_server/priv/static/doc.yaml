openapi: 3.0.1
info:
  title: AnyEx 接口文档
  description: "Swagger UI Doc（测试版）。在尝试开发之前请先行阅读开发指南，碰到任何问题及时反馈。您需要先通过认证接口获取 Token 并通过它解锁访问授权，否则您只能测试公开接口。"
  contact:
    name: AnyEx Project
    email: me@bluerain.io
    url: https://anyex.bluerain.io
  license:
    name: MIT 许可证
    url: "https://opensource.org/licenses/mit-license.php"
  version: 0.6.2
servers:
  - url: "/"
tags:
  - name: 认证
    description: 有关认证的操作和获取接口
  - name: 定制
    description: 有关定制的操作和获取接口
  - name: 类别
    description: 有关类别的操作和获取接口
  - name: 标签
    description: 有关标签的操作和获取接口
  - name: 文章
    description: 有关文章的操作和获取接口
  - name: 评论
    description: 有关评论的操作和获取接口
  - name: 链接
    description: 有关链接的操作和获取接口
paths:
  /token/gen:
    post:
      tags:
        - 认证
      summary: 生成认证令牌
      operationId: genToken
      requestBody:
        description: 管理员信息
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Admin"
      responses:
        200:
          description: 令牌响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Token"

        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /custom:
    get:
      tags:
        - 定制
      summary: 获取前台定制内容
      operationId: findCustomList
      parameters:
        - in: query
          name: includes
          schema:
            type: string
          description: 包含表达式
          example: "article|category|tag|comment|tweet|link"
      responses:
        200:
          description: 定制列表响应
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Custom"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /category/admin:
    post:
      tags:
        - 类别
      summary: 添加一个类别
      operationId: addCategory
      security: [jwt_auth: []]
      requestBody:
        description: 类别
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Category"
      responses:
        200:
          description: 添加后的类别
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Category"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"

        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
    put:
      tags:
        - 类别
      summary: 更新一个类别
      operationId: updateCategory
      security: [jwt_auth: []]
      requestBody:
        description: 类别
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Category"
      responses:
        200:
          description: 更新后的类别
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Category"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"

        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /category/admin/hidden/{id}:
    put:
      tags:
        - 类别
      summary: 隐藏一个类别
      operationId: hiddenCategory
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 类别的 ID
      responses:
        200:
          description: 隐藏后的类别
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Category"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"

        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /category/admin/{id}:
    delete:
      tags:
        - 类别
      summary: 删除一个类别
      operationId: deleteCategory
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 类别的 ID
      responses:
        200:
          description: 删除后的类别
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Category"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"

        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /category/admin/normal/{id}:
    put:
      tags:
        - 类别
      summary: 恢复一个类别
      operationId: normalCategory
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 类别的 ID
      responses:
        200:
          description: 恢复后的类别
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Category"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /category/admin/top/{id}:
    post:
      tags:
        - 类别
      summary: 置顶一个类别
      operationId: topCategory
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 类别的 ID
      responses:
        200:
          description: 置顶后的类别
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Category"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
    delete:
      tags:
        - 类别
      summary: 取消类别置顶
      operationId: cancelTopCategory
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 类别的 ID
      responses:
        200:
          description: 取消置顶后的类别
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Category"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /category/list:
    get:
      tags:
        - 类别
      summary: 获取前台类别列表
      operationId: findCategoryList
      parameters:
        - in: query
          name: offset
          schema:
            type: integer
          description: 数据集偏移
        - in: query
          name: limit
          schema:
            type: integer
          description: 数据集大小
      responses:
        200:
          description: 类别列表响应
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Category"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /category/admin/list:
    get:
      tags:
        - 类别
      summary: 获取后台类别列表
      operationId: findAdminCategoryList
      security: [jwt_auth: []]
      parameters:
        - in: query
          name: offset
          schema:
            type: integer
          description: 数据集偏移
        - in: query
          name: limit
          schema:
            type: integer
          description: 数据集大小
      responses:
        200:
          description: 类别列表响应
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Category"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /tag/admin:
    post:
      tags:
        - 标签
      summary: 添加一个标签
      operationId: addTag
      security: [jwt_auth: []]
      requestBody:
        description: 标签
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Tag"
      responses:
        200:
          description: 添加后的标签
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tag"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"

        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
    put:
      tags:
        - 标签
      summary: 更新一个标签
      operationId: updateTag
      security: [jwt_auth: []]
      requestBody:
        description: 标签
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Tag"
      responses:
        200:
          description: 更新后的标签
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tag"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"

        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /tag/admin/hidden/{id}:
    put:
      tags:
        - 标签
      summary: 隐藏一个标签
      operationId: hiddenTag
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 标签的 ID
      responses:
        200:
          description: 隐藏后的标签
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tag"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"

        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /tag/admin/{id}:
    delete:
      tags:
        - 标签
      summary: 删除一个标签
      operationId: deleteTag
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 标签的 ID
      responses:
        200:
          description: 删除后的标签
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tag"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"

        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /tag/admin/normal/{id}:
    put:
      tags:
        - 标签
      summary: 恢复一个标签
      operationId: normalTag
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 标签的 ID
      responses:
        200:
          description: 恢复后的标签
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tag"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /tag/admin/top/{id}:
    post:
      tags:
        - 标签
      summary: 置顶一个标签
      operationId: topTag
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 标签的 ID
      responses:
        200:
          description: 置顶后的标签
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tag"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
    delete:
      tags:
        - 标签
      summary: 取消标签置顶
      operationId: cancelTopTag
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 标签的 ID
      responses:
        200:
          description: 取消置顶后的标签
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tag"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /tag/list:
    get:
      tags:
        - 标签
      summary: 获取前台标签列表
      operationId: findTagList
      parameters:
        - in: query
          name: offset
          schema:
            type: integer
          description: 数据集偏移
        - in: query
          name: limit
          schema:
            type: integer
          description: 数据集大小
      responses:
        200:
          description: 标签列表响应
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Tag"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /tag/admin/list:
    get:
      tags:
        - 标签
      summary: 获取后台标签列表
      operationId: findAdminTagList
      security: [jwt_auth: []]
      parameters:
        - in: query
          name: offset
          schema:
            type: integer
          description: 数据集偏移
        - in: query
          name: limit
          schema:
            type: integer
          description: 数据集大小
      responses:
        200:
          description: 标签列表响应
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Tag"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /article/admin:
    post:
      tags:
        - 文章
      summary: 添加一个文章
      operationId: addArticle
      security: [jwt_auth: []]
      requestBody:
        description: 文章
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Article"
      responses:
        200:
          description: 添加后的文章
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Article"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"

        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
    put:
      tags:
        - 文章
      summary: 更新一个文章
      operationId: updateArticle
      security: [jwt_auth: []]
      requestBody:
        description: 文章
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Article"
      responses:
        200:
          description: 更新后的文章
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Article"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"

        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /article/admin/hidden/{id}:
    put:
      tags:
        - 文章
      summary: 隐藏一个文章
      operationId: hiddenArticle
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 文章的 ID
      responses:
        200:
          description: 隐藏后的文章
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Article"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"

        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /article/admin/{id}:
    delete:
      tags:
        - 文章
      summary: 删除一个文章
      operationId: deleteArticle
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 文章的 ID
      responses:
        200:
          description: 删除后的文章
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Article"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"

        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
    get:
      tags:
        - 文章
      summary: 获取后台文章内容
      operationId: getAdminArticle
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 文章 ID
      responses:
        200:
          description: 文章
          content:
            application/json:
              schema:
                type: object
                items:
                  $ref: "#/components/schemas/Article"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /article/admin/normal/{id}:
    put:
      tags:
        - 文章
      summary: 恢复一个文章
      operationId: normalArticle
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 文章的 ID
      responses:
        200:
          description: 恢复后的文章
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Article"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /article/admin/top/{id}:
    post:
      tags:
        - 文章
      summary: 置顶一个文章
      operationId: topArticle
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 文章的 ID
      responses:
        200:
          description: 置顶后的文章
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Article"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
    delete:
      tags:
        - 文章
      summary: 取消文章置顶
      operationId: cancelTopArticle
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 文章的 ID
      responses:
        200:
          description: 取消置顶后的文章
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Article"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /article/list:
    get:
      tags:
        - 文章
      summary: 获取前台文章列表
      operationId: findArticleList
      parameters:
        - in: query
          name: offset
          schema:
            type: integer
          description: 数据集偏移
        - in: query
          name: limit
          schema:
            type: integer
          description: 数据集大小
        - in: query
          name: category_qname
          schema:
            type: string
          description: 类别(查询)名称
        - in: query
          name: tag_qname
          schema:
            type: string
          description: 标签(查询)名称
      responses:
        200:
          description: 文章列表响应
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Article"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /article/admin/list:
    get:
      tags:
        - 文章
      summary: 获取后台文章列表
      operationId: findAdminArticleList
      security: [jwt_auth: []]
      parameters:
        - in: query
          name: offset
          schema:
            type: integer
          description: 数据集偏移
        - in: query
          name: limit
          schema:
            type: integer
          description: 数据集大小
        - in: query
          name: category_qname
          schema:
            type: string
          description: 类别(查询)名称
        - in: query
          name: tag_qname
          schema:
            type: string
          description: 标签(查询)名称
      responses:
        200:
          description: 文章列表响应
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Article"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /article/query/{qtext}:
    get:
      tags:
        - 文章
      summary: 获取前台文章内容
      operationId: getArticle
      parameters:
        - in: path
          name: qtext
          required: true
          schema:
            type: string
          description: 文章查询文本
      responses:
        200:
          description: 文章
          content:
            application/json:
              schema:
                type: object
                items:
                  $ref: "#/components/schemas/Article"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /comment/add:
    post:
      tags:
        - 评论
      summary: 添加一个评论
      operationId: addComment
      requestBody:
        description: 评论
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Comment"
      responses:
        200:
          description: 添加后的评论
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Comment"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /comment/admin:
    post:
      tags:
        - 评论
      summary: 以管理员身份添加一个评论
      operationId: addAdminComment
      security: [jwt_auth: []]
      requestBody:
        description: 评论
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Comment"
      responses:
        200:
          description: 添加后的评论
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Comment"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
    put:
      tags:
        - 评论
      summary: 更新一个评论
      operationId: updateComment
      security: [jwt_auth: []]
      requestBody:
        description: 评论
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Comment"
      responses:
        200:
          description: 更新后的评论
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Comment"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"

        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /comment/admin/hidden/{id}:
    put:
      tags:
        - 评论
      summary: 隐藏一个评论
      operationId: hiddenComment
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 评论的 ID
      responses:
        200:
          description: 隐藏后的评论
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Comment"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"

        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /comment/admin/{id}:
    delete:
      tags:
        - 评论
      summary: 删除一个评论
      operationId: deleteComment
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 评论的 ID
      responses:
        200:
          description: 删除后的评论
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Comment"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"

        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /comment/admin/normal/{id}:
    put:
      tags:
        - 评论
      summary: 恢复一个评论
      operationId: normalComment
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 评论的 ID
      responses:
        200:
          description: 恢复后的评论
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Comment"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /comment/admin/top/{id}:
    post:
      tags:
        - 评论
      summary: 置顶一个评论
      operationId: topComment
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 评论的 ID
      responses:
        200:
          description: 置顶后的评论
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Comment"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
    delete:
      tags:
        - 评论
      summary: 取消评论置顶
      operationId: cancelTopComment
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 评论的 ID
      responses:
        200:
          description: 取消置顶后的评论
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Comment"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /comment/list:
    get:
      tags:
        - 评论
      summary: 获取前台评论列表
      operationId: findCommentList
      parameters:
        - in: query
          name: offset
          schema:
            type: integer
          description: 数据集偏移
        - in: query
          name: limit
          schema:
            type: integer
          description: 数据集大小
        - in: query
          name: article_id
          schema:
            type: integer
          description: 文章 ID
      responses:
        200:
          description: 评论列表响应
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Comment"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /link/admin:
    post:
      tags:
        - 链接
      summary: 添加一个链接
      operationId: addLink
      security: [jwt_auth: []]
      requestBody:
        description: 链接
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Link"
      responses:
        200:
          description: 添加后的链接
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Link"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"

        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
    put:
      tags:
        - 链接
      summary: 更新一个链接
      operationId: updateLink
      security: [jwt_auth: []]
      requestBody:
        description: 链接
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Link"
      responses:
        200:
          description: 更新后的链接
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Link"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"

        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /link/admin/hidden/{id}:
    put:
      tags:
        - 链接
      summary: 隐藏一个链接
      operationId: hiddenLink
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 链接的 ID
      responses:
        200:
          description: 隐藏后的链接
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Link"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"

        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /link/admin/{id}:
    delete:
      tags:
        - 链接
      summary: 删除一个链接
      operationId: deleteLink
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 链接的 ID
      responses:
        200:
          description: 删除后的链接
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Link"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"

        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /link/admin/normal/{id}:
    put:
      tags:
        - 链接
      summary: 恢复一个链接
      operationId: normalLink
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 链接的 ID
      responses:
        200:
          description: 恢复后的链接
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Link"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /link/admin/top/{id}:
    post:
      tags:
        - 链接
      summary: 置顶一个链接
      operationId: topLink
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 链接的 ID
      responses:
        200:
          description: 置顶后的链接
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Link"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
    delete:
      tags:
        - 链接
      summary: 取消链接置顶
      operationId: cancelTopLink
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 链接的 ID
      responses:
        200:
          description: 取消置顶后的链接
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Link"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /link/list:
    get:
      tags:
        - 链接
      summary: 获取前台链接列表
      operationId: findLinkList
      parameters:
        - in: query
          name: offset
          schema:
            type: integer
          description: 数据集偏移
        - in: query
          name: limit
          schema:
            type: integer
          description: 数据集大小
      responses:
        200:
          description: 链接列表响应
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Link"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /link/admin/list:
    get:
      tags:
        - 链接
      summary: 获取后台链接列表
      operationId: findAdminLinkList
      security: [jwt_auth: []]
      parameters:
        - in: query
          name: offset
          schema:
            type: integer
          description: 数据集偏移
        - in: query
          name: limit
          schema:
            type: integer
          description: 数据集大小
      responses:
        200:
          description: 链接列表响应
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Link"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /tweet/admin:
    post:
      tags:
        - 推文
      summary: 添加一个推文
      operationId: addTweet
      security: [jwt_auth: []]
      requestBody:
        description: 推文
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Tweet"
      responses:
        200:
          description: 添加后的推文
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tweet"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"

        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
    put:
      tags:
        - 推文
      summary: 更新一个推文
      operationId: updateTweet
      security: [jwt_auth: []]
      requestBody:
        description: 推文
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Tweet"
      responses:
        200:
          description: 更新后的推文
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tweet"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"

        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /tweet/admin/hidden/{id}:
    put:
      tags:
        - 推文
      summary: 隐藏一个推文
      operationId: hiddenTweet
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 推文的 ID
      responses:
        200:
          description: 隐藏后的推文
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tweet"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"

        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /tweet/admin/{id}:
    delete:
      tags:
        - 推文
      summary: 删除一个推文
      operationId: deleteTweet
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 推文的 ID
      responses:
        200:
          description: 删除后的推文
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tweet"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"

        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /tweet/admin/normal/{id}:
    put:
      tags:
        - 推文
      summary: 恢复一个推文
      operationId: normalTweet
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 推文的 ID
      responses:
        200:
          description: 恢复后的推文
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tweet"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /tweet/admin/top/{id}:
    post:
      tags:
        - 推文
      summary: 置顶一个推文
      operationId: topTweet
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 推文的 ID
      responses:
        200:
          description: 置顶后的推文
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tweet"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
    delete:
      tags:
        - 推文
      summary: 取消推文置顶
      operationId: cancelTopTweet
      security: [jwt_auth: []]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: 推文的 ID
      responses:
        200:
          description: 取消置顶后的推文
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tweet"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /tweet/list:
    get:
      tags:
        - 推文
      summary: 获取前台推文列表
      operationId: findTweetList
      parameters:
        - in: query
          name: offset
          schema:
            type: integer
          description: 数据集偏移
        - in: query
          name: limit
          schema:
            type: integer
          description: 数据集大小
      responses:
        200:
          description: 推文列表响应
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Tweet"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
  /tweet/admin/list:
    get:
      tags:
        - 推文
      summary: 获取后台推文列表
      operationId: findAdminTweetList
      security: [jwt_auth: []]
      parameters:
        - in: query
          name: offset
          schema:
            type: integer
          description: 数据集偏移
        - in: query
          name: limit
          schema:
            type: integer
          description: 数据集大小
      responses:
        200:
          description: 推文列表响应
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Tweet"
        400:
          description: 错误响应
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
        401:
          description: 无效授权
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrReason"
components:
  schemas:
    Token:
      title: 令牌
      type: object
      properties:
        token:
          type: string
    Admin:
      title: 认证
      type: object
      properties:
        username:
          type: string
        password:
          type: string
    ErrReason:
      title: 错误
      type: object
      properties:
        message:
          type: string
        data:
          type: object
    Category:
      title: 类别
      type: object
      properties:
        id:
          type: integer
        qname:
          type: string
        name:
          type: string
        description:
          type: string
        top:
          type: integer
        inserted_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        res_status:
          type: integer
    Tag:
      title: 标签
      type: object
      properties:
        id:
          type: integer
        qname:
          type: string
        name:
          type: string
        description:
          type: string
        top:
          type: integer
        inserted_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        res_status:
          type: integer
    Article:
      title: 文章
      type: object
      properties:
        id:
          type: integer
        category_id:
          type: integer
        qtext:
          type: string
        title:
          type: string
        preface:
          type: string
        content:
          type: string
        top:
          type: integer
        inserted_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        res_status:
          type: integer
    Comment:
      title: 评论
      type: object
      properties:
        id:
          type: integer
        author_nickname:
          type: string
        author_email:
          type: string
        personal_site:
          type: string
        content:
          type: string
        owner:
          type: boolean
        top:
          type: integer
        inserted_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        res_status:
          type: integer
    Link:
      title: 链接
      type: object
      properties:
        id:
          type: integer
        text:
          type: string
        address:
          type: string
        description:
          type: string
        type:
          type: string
        top:
          type: integer
        inserted_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        res_status:
          type: integer
    Tweet:
      title: 推文
      type: object
      properties:
        id:
          type: integer
        theme:
          type: string
        content:
          type: string
        top:
          type: integer
        inserted_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        res_status:
          type: integer
    Custom:
      title: 定制
      type: object
      properties:
        articles:
          type: object
          properties:
            data:
              type: array
              items:
                $ref: "#/components/schemas/Article"
            status:
              type: string
        categories:
          type: object
          properties:
            data:
              type: array
              items:
                $ref: "#/components/schemas/Category"
            status:
              type: string
        comments:
          type: object
          properties:
            data:
              type: array
              items:
                $ref: "#/components/schemas/Comment"
            status:
              type: string
        links:
          type: object
          properties:
            data:
              type: array
              items:
                $ref: "#/components/schemas/Link"
            status:
              type: string
        tags:
          type: object
          properties:
            data:
              type: array
              items:
                $ref: "#/components/schemas/Tag"
            status:
              type: string
        tweets:
          type: object
          properties:
            data:
              type: array
              items:
                $ref: "#/components/schemas/Tweet"
            status:
              type: string
  securitySchemes:
    jwt_auth:
      type: apiKey
      in: header
      name: authorization
